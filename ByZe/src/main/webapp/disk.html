<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>BaiZePan</title>
    <link rel="stylesheet" href="./static/css/disk.css">
    <link rel="stylesheet" href="./static/element-ui/lib/theme-chalk/index.css">
    <script src="./static/js/vue.js"></script>
    <script src="./static/js/axios.js"></script>
    <script src="./static/element-ui/lib/index.js"></script>
</head>
<body>

<div id="disk">
    <el-container style="height:1000px; border: 1px solid #eee">
        <el-header style="text-align: right; font-size: 12px">
            <el-dropdown>
                <i class="el-icon-setting" style="margin-right: 15px"></i>
                <el-dropdown-menu slot="dropdown">
                    <el-dropdown-item>查看</el-dropdown-item>
                    <el-dropdown-item>新增</el-dropdown-item>
                    <el-dropdown-item>删除</el-dropdown-item>
                </el-dropdown-menu>
            </el-dropdown>
            <span>{{userData.username}}</span>
            <span>{{userData.grade}}级会员</span>
        </el-header>
        <el-container>
            <el-aside style="text-align: left; width: 130px">
                <br><br>
                <el-button type="primary" @click="updateFileList" style="text-align: center; width: 100px">我的资源</el-button>
                <br><br>
                <el-button type="primary" @click="openBin" style="text-align: center; width: 100px">回收站</el-button>
            </el-aside>
            <el-main>
                <el-upload
                        class="upload-demo"
                        ref="upload"
                        action="http://localhost:8888/ByZe/uploadFile"
                        :data="fileDir"
                        :on-preview="handlePreview"
                        :on-remove="handleRemove"
                        :file-list="uploadFileList"
                        :multiple="true"
                        :auto-upload="false">
                    <el-button slot="trigger" size="small" type="primary">选取文件</el-button>
                    <el-button style="margin-left: 10px;" size="small" type="success" @click="submitUpload">上传到服务器
                    </el-button>
                </el-upload>
                <el-table :data="fileList" stripe=true sort="prop: fileName, order: string">
                    <el-table-column label="文件姓名" prop="fileName"></el-table-column>
                    <el-table-column label="文件大小" prop="fileSize"></el-table-column>
                    <el-table-column label="创建时间" prop="createTime"></el-table-column>

                    <el-table-column label="操作" style="width: 100%">
                        <template slot-scope="scope">
                            <el-button size="mini" type="primary" @click="Edit(scope.$index)">编辑</el-button>
                            <el-button size="mini" type="primary" @click="Download(scope.$index)">下载</el-button>
                            <el-button size="mini" type="danger" @click="Delete(scope.$index)">删除</el-button>
                        </template>
                    </el-table-column>
                </el-table>
            </el-main>


        </el-container>

    </el-container>
</div>

<script src="./static/js/Var.js"></script>
<script src="./static/js/disk.js"></script>
</body>
</html>