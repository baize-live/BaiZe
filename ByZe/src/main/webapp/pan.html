<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <link rel="stylesheet" href="./static/element-ui/lib/theme-chalk/index.css">
    <script src="./static/js/vue.js"></script>
    <script src="./static/js/axios.js"></script>
    <script src="./static/element-ui/lib/index.js"></script>

</head>
<body>

<div id="pan">
    <el-container>
        <el-main>
            <el-button @click="enterPan">进入网盘</el-button>
            <el-button @click="openPan">开通网盘</el-button>
            <el-button size="medium" type="primary" plain=true icon="el-icon-edit">答的昂对</el-button>
        </el-main>
    </el-container>
</div>

<script src="./static/js/Var.js"></script>
<script>
    new Vue({
        el: "#pan",
        data: {
            email: "",
            password: "",
            url: basePath + "/loginAfter",
            business: {
                isOpenPan: "105",
                openPan: "106",
            }
        },
        methods: {
            enterPan: function () {
                let data = "business=" + this.business.isOpenPan;
                axios.post(this.url, data)
                    .then(function (res) {
                        if (res.data == "1") {
                            console.log("网盘已经开通");
                            setTimeout(() => {
                                location.href = "/ByZe/disk.html";
                            }, 1000)
                        } else {
                            // 弹出对话框
                            console.log("网盘暂未开通");
                        }
                    })
                    .catch(function (err) {
                        console.log("访问后台失败");
                    });
            },
            openPan: function () {
                let data = "business=" + this.business.openPan;
                axios.post(this.url, data)
                    .then(function (res) {
                        if (res.data == "1") {
                            console.log("网盘开通成功");
                        } else {
                            // 弹出对话框
                            console.log("网盘开通失败");
                        }
                    })
                    .catch(function (err) {
                        console.log("访问后台失败");
                    });
            }
        }
    });
    // const userList = [];
    // userList.push({username: "zhangSan", age: 18});
    // userList.push({username: "lisi", age: 28});
    // console.log(JSON.stringify(userList));
    // console.log(typeof JSON.stringify(userList))
    //
    // axios({
    //     method: "post",
    //     url: "${pageContext.request.contextPath}/user/quick15",
    //     data: JSON.stringify(userList),
    //     headers: {
    //         'Content-Type': 'application/json;charset=UTF-8'
    //     }
    // }).then(resp => {
    //
    // })
</script>
</body>
</html>